<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="Scripts/aquadroid.js"></script>
	
	<script>
		var ipArduino = 'http://192.168.0.201';
			
	function Enviar(comando) {

		var urlComando = ipArduino + comando;
		console.log(urlComando);

		var call = $.ajax({
			url: urlComando,
			dataType: 'jsonp',
			jsonpCallback: 'dataCB'
		})
			.done(function (data) {
				console.log(data);
				BindData(data);
				console.log("Comando enviado com sucesso!");

				if (comando == "?AUTOL" || comando == "?AUTOD") {
					//Rebind para busca de dados após ativação de modo
					console.log("Buscando novamente dados do modo Automatico")
					$('#icoExeAUTOL').show();
					BuscaDados();
				}
			});
	}
	
	
	</script>
	
    <style>

        table {
            background-color: #FFFFFF;
        }

        th {
            background-color: #3E4551;
            color: #FFFFFF;
        }
    </style>
</head>
<body>
    <div class="container">        
        <div class="row">
            <table class="table table-bordered">
                <tr>
                    <th width="120px">Modo: </th>
                    <th colspan=2>
                        <label class="radio-inline">
                            <input type="radio" name="rdModo" id="rdModoA" value="A" onclick="EnviarComando('AUTOL')">
                            Automatico
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="rdModo" id="rdModoM" value="M" onclick="EnviarComando('AUTOD')">
                            Manual
                        </label>
                    </th>
                <tr>
                <tr>
                    <td>Data: </td>
                    <td><span id="DataHW"></span></td>
                    <td>
                        <button type="button" class="btn btn-info" aria-label="Left Align" id="btHorarioArduino" onclick="MostraPopUpHorarioArduino()">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>               
            <table class="table table-bordered">
                <tr>
                    <th width="120px">Função</th>
                    <th>Ação</th>
                    <th colspan="2">Agendamento</th>
                </tr>
                <tr>
                    <td>Saida 1</td>
                    <td>
                        <button type="button" id="S1" class="btn" onclick="EnviarComandoSaida('S1')">Ligar</button>
                        <img src="img/icoLoading.gif" id="icoExecS1">
                    </td>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td>Saida 2</td>
                    <td>
                        <button type="button" id="S2" class="btn" onclick="EnviarComandoSaida('S2')">Ligar</button>                        
                    </td>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td>Saida 3</td>
                    <td>
                        <button type="button" id="S3" class="btn btn-danger" onclick="EnviarComandoSaida('S3')">Ligar</button>
                        <img src="img/icoLoading.gif" id="icoExecS3">
                    </td>
                    <td width="50px">
                        <button type="button" class="btn btn-info" aria-label="Left Align" id="btAgeS3" onclick="MostraPopUpPeriodo('S3')">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <span id="AgeS3"></span>
                    </td>
                </tr>
                <tr>
                    <td>Saida 4</td>
                    <td>
                        <button type="button" id="S4" class="btn" onclick="EnviarComandoSaida('S4')">Ligar</button>                        
                    </td>
                    <td>
                        <button type="button" class="btn btn-info" aria-label="Left Align" id="btAgeS4" onclick="MostraPopUpPeriodo('S4')">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <span id="AgeS4"></span>
                    </td>
                </tr>
                <tr>
                    <td>RGB White</td>
                    <td>
                        <button type="button" id="WHI" class="btn" onclick="EnviarComandoRGB('WHI')">Ligar</button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-info" aria-label="Left Align" id="btAgeWHI" onclick="MostraPopUpPeriodo('WHI')">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <span id="AgeRGBWHITE"></span>
                    </td>
                </tr>
                <tr>
                    <td>RGB Blue</td>
                    <td>
                        <button type="button" id="BLU" class="btn" onclick="EnviarComandoRGB('BLU')">Ligar</button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-info" aria-label="Left Align" id="btAgeBLU" onclick="MostraPopUpPeriodo('BLU')">
                            <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <span id="AgeRGBBLUE"></span>
                    </td>
                </tr>
                <tr>
                    <td>RGB Green</td>
                    <td>
                        <button type="button" id="GRE" class="btn" onclick="EnviarComandoRGB('GRE')">Ligar</button>
                    </td>
                    <td colspan="2"></td>
                </tr>
                <tr>
                    <td>RGB RED</td>
                    <td>
                        <button type="button" id="RED" class="btn" onclick="EnviarComandoRGB('RED')">Ligar</button>
                    </td>
                    <td colspan="2"></td>
                </tr>            
            </table>
        </div>     
</body>
<script>

    $(document).ready(function () {
        BuscaDados();
    });

</script>
<html>
